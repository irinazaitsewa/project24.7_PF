# Написание автотестов для RESTful сервисов

#### Автотесты для REST API на базе фреймворка PyTest.

В проекте использовался [данный сайт](https://petfriends.skillfactory.ru/)

Нажать для перехода на [Swagger](https://petfriends.skillfactory.ru/apidocs/#/)

Методы взаимодействия с REST API реализованы в библиотеке ```api.py``` в корневом каталоге.

По правилам ООП библиотека написана в классе с последующим удобным использованием ее методов:
```python 
class PetFriends:
    ...
```
При инициализации библиотеки объявляется переменная  ```base_url```.

В директории /tests располагается файл с тестами.

В директории /tests/images лежат изображения.

Файл ```test_pet_friends.py``` содержит следующие тесты:

**Проверка данных пользователя**
- запрос API ключа;
- получение пользовательского ключа с валидными данными;
- получение пользовательского ключа с частично ошибочными данными;
- получение пользовательского ключа с полностью некорректными данными;

**Получение данных сайта в виде списка**
- список по фильтру всего содержимого;
- список по фильтру личного кабинета;
- доступ к данным сайта с некорректным пользовательским ключом;
- очистка списка личного кабинета;

**Возможные действия с информацией сайта в личном кабинете**
- создание данных;
- проверки на создание - позитивные и негативные кейсы;
- работа с разными типами данных;
- удаление данных; 
- изменение данных.

### Настройка тестового окружения
В PyCharm для работы с PyTest используется стандартное виртуальное окружение при создании проекта. 

В настройках для запуска тестов:

settings -> integrated tools -> default test runner -> pytest -> apply

settings -> python interpriter -> install package -> requests, pytest 

### Установка зависимостей:

Запись email и пароль сделана в файле формата ```.env```: это более безопасно, так как данный файл необязательно отправлять в удаленный репозиторий.
Для использования этого подхода устанавливается библиотека: 
```python
pip3 install python-dotenv
```

После чего в файл ```settings.py``` осуществляется импорт библиотек и вызов метода:
```python
import os

from dotenv import load_dotenv

load_dotenv()
```